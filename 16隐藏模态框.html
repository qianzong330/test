<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="zh-CN">
<head>
<title>新建网页</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="description" content="布尔教育 http://www.itbool.com" />
<style>
	body{
		background-color: #ccc;
	}
	#box{
		width: 100%;
		height: 100%;
		position: fixed;
        top: 0;
        left: 0;
        display: none;
        background: rgba(0, 0, 0, 0.6);
	}
	.login{
		width: 100px;
		height: 100px;
		position: absolute;
		background-color: pink;
		top: 100px;
		left: 100px;
		cursor: pointer;
	}
</style>
<script src="myTool.js"></script>
<script>
	window.onload = function(){
		//需求:点击登陆，显示模态框。点击除了模态框以外的地方隐藏模态框
        //步骤：
        //1.给登录绑定事件
        //2.给document绑定事件，因为可以冒泡，只要判断，点击的不是login，那么隐藏模态框

        var box = document.getElementById("box");
        var a = document.getElementsByTagName("a")[1];

        a.onclick = function(event){
			event = event || window.event;
        	show(box);

        	if(event&&event.stopPropagation()){
        		event.stopPropagation();
        	}else{
        		event.cancelBubble = true;
        	}

        }
        document.onclick = function(event){
        	event = event || window.event;
        	//兼容获取事件触动时，被传递过来的对象
        	var aaa = event.target?event.target:event.srcElement;
        	console.log(aaa);
        	//判断目标值的ID是否等于login，如果等于不隐藏盒子，否则隐藏盒子。
        	if(aaa.id !== "login"){
        		hide(box);
        	}
        }

	}
</script>
</head>
    <body>
    	<a href="#">注册</a>
    	<a href="#">登陆</a>
    	<div id="box">
    		<div class="login" id="login"></div>
    	</div>
    </body>
</html>